<template>
  <require from="./converters/date-format"></require>
  <require from="./converters/index-format"></require>

  <main>
    <!-- banner-->
    <section class="banner">
      <div class="container">
        <!-- lbl-->
        <div class="bannertext">
          <div class="line">
            <div class="wrap"><span>CROWDSOURCING</span></div>
          </div>
          <div class="line">
            <div class="wrap"><span>CAMPAIGNS</span></div>
          </div>
        </div>
        <!-- vertical nav-->
        <nav class="vertical">
          <ul>
            <li><a href="javascript:void(0)" click.delegate="scrollTo('#sorting')"> <img src="../img/ic-arrow-left-black.png">CONTRIBUTE NOW</a></li>
            <li>${campaignsCount} CAMPAIGNS</li>
          </ul>
        </nav>
        <div class="bgwrap"></div>
      </div>
    </section>
    <!-- campaign list-->
    <section class="campaigns">
      <div class="container">
        <!-- top section-->
        <div class="topsection">
          <!-- label-->
          <div class="sectionlabel">
            <div class="bold">CURRENT</div><span>CROWDSOURCING CAMPAIGNS</span>
          </div>
          <!-- filter-->
          <div class="sort">
            <!-- label-->
            <div class="lbl">SORT BY </div>
            <!-- sort--><a id="sorting" href="#" data-toggle="dropdown"><span class="text">ALPHABETICAL</span><span class="arrow"><img src="../img/ic-arrow-down-green.png"></span></a>
            <!-- dropdown-->
            <ul aria-labelledby="sorting" class="dropdown-menu">
              <li> <a href="#">ALPHABETICAL</a></li>
              <li> <a href="#">DATE</a></li>
            </ul>
          </div>
        </div>


        <!-- list-->
        <div class="list" repeat.for="camp of campaigns">
          <!-- campaign-->
          <div class="campaign">
            <!-- no--><span class="no">${($index+1) | indexFormat}</span>
            <!-- thumbs-->
            <div class="thumbs">
              <!-- wrap--><a href="javascript:void(0)" click.delegate="goToCamp(camp, user)"><img class="centered-and-cropped" src="${camp.banner}">
                <!-- action-->
                <div class="action"><span class="plus">+ </span>OPEN CAMPAIGN</div></a>
            </div>
            <!-- detail-->
            <div class="details">
              <!-- title--><a href="javascript:void(0)" click.delegate="goToCamp(camp, user)">
                <h1>${camp.title}</h1></a>
              <!-- desc-->
              <p>${camp.description}</p>
              <!-- progress-->
              <div class="progress-line">
                <!-- bar-->
                <div class="progress">
                  <div role="progressbar" aria-valuenow="${camp.percentage}" aria-valuemin="0" aria-valuemax="100" style="width: ${camp.percentage}%;" class="progress-bar"></div>
                </div>
                <!-- target-->
                <div class="target">${camp.totalCurrent} / ${camp.target}</div>
              </div>
              <!-- stats-->
              <ul class="stats">
                <li>
                  <div class="lbl">PROGRESS</div>
                  <div class="val">

                    ${camp.percentage}%<small>${camp.totalCurrent}/${camp.target}</small>
                  </div>
                </li>
                <li>
                  <div class="lbl">CONTRIBUTORS</div>
                  <div class="val">${camp.contributorsCount}</div>
                </li>
                <li>
                  <div class="lbl">END DATE</div>
                  <div class="val">${camp.endDate | dateFormat}</div>
                </li>
                <li class="contribute"><a href="item">CONTRIBUTE NOW</a></li>
              </ul>
            </div>
          </div>
        </div>


        <!-- more-->
        <div class="loadmore"><a href="#">LOAD MORE</a></div>
      </div>
    </section>
    <!-- learn more-->
    <section class="learnmore">
      <div class="container">
        <!-- left-->
        <div class="left"><img src="../img/img-learnmore-1.png"></div>
        <!-- right-->
        <div class="right">
          <!-- desc-->
          <div class="desc">
            <h1>

              Learn more about <br>crowdsourcing campaign
            </h1>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
          </div>
          <!-- register-->
          <div class="register">
            <!-- wrap-->
            <div class="wrap">
              <!-- img--><img src="../img/img-learnmore-2.png">
              <!-- text-->
              <div class="text">
                <h1>Want to create your own?</h1>
                <p>Register now and start creating your own crowdsourcing projects.</p><a href="#" class="regbtn">REGISTER</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
</template>
