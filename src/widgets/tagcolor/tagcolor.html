<template>
  <div class="tag-color">
    <!-- infobar-->
    <div class="wrap">
      <!-- heading-->
      <div class="heading green">COLOR TAGGING</div>
      <!-- info-->
      <div class="infobar">Select colors that you see on the left picture. <br/>You can also validate other colors that has been submitted for this item by voting them.</div>

      <!-- color action-->
      <ul class="coloraction">
        <li class.bind="color[2]" repeat.for="color of colorSet">
          <a href="javascript:void(0)" click.delegate="annotateColor(color[1])">
            <img src.bind="color[0]">
            <div class="action">
              <div class="colorname" innerhtml.bind="color[1]"></div>
            </div>
          </a>
        </li>
      </ul>
      <!-- searchbox-->
      <div class="colorbox">Vote submitted colors by other users.</div>
      <!-- taglist-->
      <ul class="taglist color">
        <li repeat.for="ann of annotations">
          <div class="thumbs"><img src.bind="getColor(ann.label)"></div>
          <div class="selected">${ann.label}</div>
          <ul class="action">
            <li class.bind="ann.approvedByMe ? 'up active' : 'up'">
              <a href="javascript:void(0)" click.delegate="validate(ann.dbId, 'approved', $index, ann.approvedByMe, ann.rejectedByMe)">
                <span class="thumbs-icon up"></span>
                <span class="count">${ann.approvedBy.length}</span>
              </a>
            </li>
            <li class.bind="ann.rejectedByMe ? 'down active' : 'down'">
              <a href="javascript:void(0)" click.delegate="validate(ann.dbId, 'rejected', $index, ann.approvedByMe, ann.rejectedByMe)">
                <span class="count">${ann.rejectedBy.length}</span>
                <span class="thumbs-icon down"></span>
              </a>
            </li>
            <li class="delete" if.bind="ann.createdByMe && ann.approvedBy.length==0 && ann.rejectedBy.length==0">
              <a href="javascript:void(0)" click.delegate="deleteAnnotation(ann.dbId, $index)" if.bind="userServices.isAuthenticated()">
                <img src="/img/ic-delete.png">
              </a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</template>
