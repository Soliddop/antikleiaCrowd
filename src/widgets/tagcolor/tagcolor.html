<template>
  <div class="tag-color">
    <!-- infobar-->
    <div class="wrap">
      <!-- heading-->
      <div class="heading green">COLOR TAGGING</div>
      <!-- info-->
      <div class="infobar">Select colors that you see on the left picture. <br/>You can also validate other colors that has been submitted for this item by voting them.</div>

      <!-- color action-->
      <ul class="coloraction">
        <li class.bind="color[2]" repeat.for="color of colorSet">
          <!-- User logged -->
          <a href="javascript:void(0)" click.delegate="annotate(color[1])" if.bind="userServices.isAuthenticated()">
            <img src.bind="color[0]">
            <div class="action">
              <div class="colorname" innerhtml.bind="color[1]"></div>
            </div>
          </a>
          <!-- No user -->
          <a if.bind="!userServices.isAuthenticated()">
            <img src.bind="color[0]">
            <div class="action">
              <div class="colorname" innerhtml.bind="color[1]"></div>
            </div>
          </a>
        </li>
      </ul>

      <!-- searchbox-->
      <div class="colorbox">Vote submitted colors by other users.</div>
      <!-- taglist-->
      <ul class="taglist color">
        <li repeat.for="ann of annotations">
          <div class="thumbs"><img src.bind="getColor(ann.label)"></div>
          <div class="selected">${ann.label}</div>
          <ul class="action">
            <li class="up ${ann.approvedByMe ? 'active' : ''}" id=up_${ann.dbId}>
              <!-- User logged -->
              <a href="javascript:void(0)" click.delegate="score(ann.dbId, 'approved', $index)" if.bind="userServices.isAuthenticated() && !ann.approvedByMe">
                <span class="thumbs-icon up"></span>
                <span class="count">${ann.approvedBy.length}</span>
              </a>
              <a href="javascript:void(0)" click.delegate="unscore(ann.dbId, 'approved', $index)" if.bind="userServices.isAuthenticated() && ann.approvedByMe">
                <span class="thumbs-icon up"></span>
                <span class="count">${ann.approvedBy.length}</span>
              </a>
              <!-- No user -->
              <a if.bind="!userServices.isAuthenticated()">
                <span class="thumbs-icon up"></span>
                <span class="count">${ann.approvedBy.length}</span>
              </a>
            </li>
            <li class="down ${ann.rejectedByMe ? 'active' : ''}" id=down_${ann.dbId}>
              <!-- User logged -->
              <a href="javascript:void(0)" click.delegate="score(ann.dbId, 'rejected', $index)" if.bind="userServices.isAuthenticated() && !ann.rejectedByMe">
                <span class="count">${ann.rejectedBy.length}</span>
                <span class="thumbs-icon down"></span>
              </a>
              <a href="javascript:void(0)" click.delegate="unscore(ann.dbId, 'rejected', $index)" if.bind="userServices.isAuthenticated() && ann.rejectedByMe">
                <span class="count">${ann.rejectedBy.length}</span>
                <span class="thumbs-icon down"></span>
              </a>
              <!-- No user -->
              <a if.bind="!userServices.isAuthenticated()">
                <span class="count">${ann.rejectedBy.length}</span>
                <span class="thumbs-icon down"></span>
              </a>
            </li>
            <li class="delete" if.bind="ann.createdByMe">
              <!-- User logged -->
              <a href="javascript:void(0)" click.delegate="unscore(ann.dbId, 'created', $index)" if.bind="userServices.isAuthenticated()">
                <img src="/img/ic-delete.png">
              </a>
            </li>
          </ul>
        </li>
      </ul>

    </div>
  </div>
</template>
