<template>
	<!-- campaign reel-->
	<div id="recs" class="campaignlist">
		<!-- top section-->
		<div if.bind="byCollection" class="topsection">
			<!-- label-->
			<div if.bind="userServices.isAuthenticated()" class="sectionlabel">
				<div class="bold">
					<!-- State - Filter-->
					<div class="state">
						<a id="sorting" href="javascript:void(0)" click.delegate="toggleStateMenu()" data-toggle="dropdown">
							<span class="text" t="[prepend]app:${state.toLowerCase()}">
								<span class="arrow"><img width="11px" src="/img/ic-arrow-down-white.png"></span>
							</span>
						</a>
						<!-- dropdown-->
						<ul aria-labelledby="sorting" class="dropdown-menu">
							<!-- <li> <a href="javascript:void(0)" click.delegate="reloadCollection('hide', sortBy)" t="app:hide">HIDE</a></li> -->
							<!-- <li> <a href="javascript:void(0)" click.delegate="reloadCollection('show', sortBy)" t="app:show">SHOW</a></li> -->
							<li> <a href="javascript:void(0)" t="app:hide">HIDE</a></li>
							<li> <a href="javascript:void(0)" t="app:show">SHOW</a></li>
						</ul>
					</div>
				</div>
				<span t="app:annotated">MY ANNOTATED ITEMS</span>
			</div>
			<!-- Sort - Filter-->
			<div class="sort">
				<!-- label-->
				<div class="lbl" t="app:sortbytags">SORT BY TAGS : </div>
				<!-- sort-->
				<a id="sorting" href="javascript:void(0)" click.delegate="toggleSortMenu()" data-toggle="dropdown">
					<span class="text" t="app:${sortBy.toLowerCase()}">${sortBy.toUpperCase()}</span>
					<span class="arrow"><img src="/img/ic-arrow-down-green.png"></span>
				</a>
				<!-- dropdown-->
				<ul aria-labelledby="sorting" class="dropdown-menu">
					<!-- <li> <a href="javascript:void(0)" click.delegate="reloadCollection(state, 'Ascending')" t="app:ascending">ASCENDING</a></li> -->
					<!-- <li> <a href="javascript:void(0)" click.delegate="reloadCollection(state, 'Descending')" t="app:descending">DESCENDING</a></li> -->
					<li> <a href="javascript:void(0)" t="app:ascending">ASCENDING</a></li>
					<li> <a href="javascript:void(0)" t="app:descending">DESCENDING</a></li>
				</ul>
			</div>
		</div>
		<!-- entry-->
		<div class="entries row" ref="grid">
			<!-- item-->
			<div class="sizer"></div>
				<!-- Item Grid for User -->
				<div if.bind="byUser" class="entry ${record.dbId} col-md-3" repeat.for="record of records">
					<a href="javascript:void(0)" click.delegate="goToAnnotatedItem(record)">
						<div class="thumbs">
							<img src.bind="record.Thumbnail" onError="this.src='/img/assets/img/ui/ic-noimage.png'" />
							<div class="action"><div class="plus">${record.title | textTrim:22}</div><div class="plus small">${record.annotations.length + ' tag' | pluralFormat}</div></div>
						</div>
					</a>
				</div>
				<!-- Item Grid for Collection -->
				<div if.bind="byCollection" class="entry ${record.dbId} col-md-3" repeat.for="record of records">
					<a href="javascript:void(0)" click.delegate="goToItem(record)">
						<div class="thumbs">
							<img src.bind="record.Thumbnail" onError="this.src='/img/assets/img/ui/ic-noimage.png'" />
							<div class="action"><div class="plus">${record.title | textTrim:22}</div><div class="plus small">${record.annotations.length + ' tag' | pluralFormat}</div></div>
						</div>
					</a>
				</div>
		</div>
		<div class="loadmore">
			<a href="#" show.bind="!loading && more" click.delegate="loadMore()" t="app:loadmore">LOAD MORE</a>
			<div class="more"><i show.bind="loading" class="fa fa-spinner fa-pulse"></i></div>
		</div>
	</div>
</template>
